import './polyfills.server.mjs';
import{a as z}from"./chunk-DRTVPYO5.mjs";import{a as G}from"./chunk-IMBZNWIY.mjs";import{a as T}from"./chunk-MON4XL3I.mjs";import{b as w,h as k,i as C,j as _,k as x,l as c,m as D,p as E,q as F,v as A,w as R}from"./chunk-C7LEWBWN.mjs";import{d as S}from"./chunk-X4HXG6XD.mjs";import"./chunk-FBIK5BYQ.mjs";import{t as v}from"./chunk-E4BOLET5.mjs";import{$b as b,Ib as l,Tb as u,Va as m,Wa as n,fa as g,ob as p,qa as f,ra as h,rb as y,xb as i,yb as o,zb as d}from"./chunk-RCONXAB7.mjs";import"./chunk-VVCT4QZE.mjs";var Z=(()=>{class a{constructor(e,r,t){this.router=e,this.employeeService=r,this.companyService=t,this.employeeForm=new _({isInactive:new c(!1),companies:new c("")}),this.data=[],this.idEmployee=0,this.themeClass="ag-theme-quartz",this.pagination=!0,this.paginationPageSize=100,this.paginationPageSizeSelector=[25,50,100],this.defaultColRef={flex:1,filter:!0},this.rowSelection={mode:"singleRow"},this.rowData=[],this.companies=[],this.colDefs=[{field:"id"},{field:"first_name"},{field:"last_name"},{field:"employee_id"},{field:"company_id"}]}onFilterTextBoxChanged(){this.gridApi.setGridOption("quickFilterText",document.getElementById("filter-text-box").value)}onGridReady(e){this.gridApi=e.api,this.companyService.company$.subscribe(r=>{this.checkToogle()})}doubleClickCell(){let e=this.gridApi.getSelectedRows();this.idEmployee=e[0].id,this.router.navigate([`/employee/${e[0].id}`])}checkToogle(){this.employeeForm.value.companies=this.companyService.company$.value,this.employeeForm.value.isInactive?this.employeeForm.value.companies=="AllCompanies"?this.employeeService.getAllEmployees("").subscribe({next:e=>{this.rowData=e.data}}):this.employeeService.getAllEmployees(`?company[eq]=${this.employeeForm.value.companies}`).subscribe({next:e=>{this.rowData=e.data}}):this.employeeForm.value.companies=="AllCompanies"?this.employeeService.getAllEmployees("?status[eq]=1").subscribe({next:e=>{this.rowData=e.data}}):this.employeeService.getAllEmployees(`?status[eq]=1&&company[eq]=${this.employeeForm.value.companies}`).subscribe({next:e=>{this.rowData=e.data}})}static{this.\u0275fac=function(r){return new(r||a)(n(S),n(G),n(T))}}static{this.\u0275cmp=g({type:a,selectors:[["app-employee"]],standalone:!0,features:[b],decls:18,vars:10,consts:[[1,"bg-white","p-8","rounded-md","w-full"],[1,"flex","items-left","justify-left","pb-6"],[1,"max-w-lg","mx-auto"],[1,"relative"],["type","search","id","filter-text-box","placeholder","Search employee","required","",1,"block","p-2.5","w-full","z-20","text-sm","text-gray-900","bg-gray-50","rounded-e-lg","border-s-gray-50","border-s-2","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-s-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:border-blue-500",3,"input"],["type","submit",1,"absolute","top-0","end-0","p-2.5","text-sm","font-medium","h-full","text-white","bg-gray-500","rounded-e-lg","border","border-blue-700","hover:bg-gray-700","focus:ring-4","focus:outline-none","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],[1,"sr-only"],[3,"formGroup"],[1,"inline-flex","mb-5","cursor-pointer"],["formControlName","isInactive","type","checkbox","id","isInactive","value","",1,"sr-only","peer",3,"change"],[1,"relative","w-9","h-5","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-4","after:w-4","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"content"],[2,"width","100%","height","700px",3,"gridReady","rowDoubleClicked","rowData","columnDefs","rowSelection","defaultColDef","pagination","paginationPageSize","paginationPageSizeSelector"]],template:function(r,t){r&1&&(i(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"input",4),l("input",function(){return t.onFilterTextBoxChanged()}),o(),i(5,"button",5),f(),i(6,"svg",6),d(7,"path",7),o(),h(),i(8,"span",8),u(9,"Search"),o()()()(),i(10,"form",9)(11,"label",10)(12,"input",11),l("change",function(){return t.checkToogle()}),o(),d(13,"div",12),i(14,"span",13),u(15,"Include Inactive"),o()()()(),i(16,"div",14)(17,"ag-grid-angular",15),l("gridReady",function(I){return t.onGridReady(I)})("rowDoubleClicked",function(){return t.doubleClickCell()}),o()()()),r&2&&(m(10),p("formGroup",t.employeeForm),m(7),y(t.themeClass),p("rowData",t.rowData)("columnDefs",t.colDefs)("rowSelection","multiple")("defaultColDef",t.defaultColRef)("pagination",t.pagination)("paginationPageSize",t.paginationPageSize)("paginationPageSizeSelector",t.paginationPageSizeSelector))},dependencies:[v,z,R,D,w,k,C,E,F,A,x]})}}return a})();export{Z as default};
